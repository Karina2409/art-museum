import{H as d,a as o,b as p,j as s,qa as l,ra as f,v as u,y as c}from "./chunk-J4KSC7AW.js";var b=class r{totalPages=d(100);http=c(f);apiUrl="https://api.artic.edu/api/v1/artworks";static getArtworkImageUrl(i, e){let t="";return i.image_id!==null?t=`${e}/${i.image_id}/full/843,/0/default.jpg`:t="default-image.png",t}getArtworks(i=1, e=3){let t=new l().set("fields","id,title,artist_title,image_id,is_on_view").set("page",i.toString()).set("limit",e.toString());return this.http.get(this.apiUrl,{params:t}).pipe(s(n=>n.data.map(a=>p(o({},a),{image_url:r.getArtworkImageUrl(a,n.config.iiif_url)}))))}getArtworkById(i){let e=new l().set("fields","id,title,date_display,image_id,is_on_view,dimensions,credit_line,department_title,artist_title");return this.http.get(`${this.apiUrl}/${i}`,{params:e}).pipe(s(t=>p(o({},t.data),{image_url:r.getArtworkImageUrl(t.data,t.config.iiif_url)})))}getTotalPages(){let i=new l().set("limit","0");return this.http.get(this.apiUrl,{params:i}).pipe(s(e=>{let t=+e.pagination.total_pages;return this.totalPages.set(t),t}))}searchArtworks(i, e=1, t=3){let n=new l().set("fields","id,title,artist_title,image_id,is_on_view").set("q",i).set("page",e.toString()).set("limit",t.toString());return this.http.get(`${this.apiUrl}/search`,{params:n}).pipe(s(a=>{let _=a.data.map(m=>p(o({},m),{image_url:r.getArtworkImageUrl(m,a.config.iiif_url)})),g=+a.pagination.total_pages;return this.totalPages.set(g),{artworks:_,total_page:g}}))}static \u0275fac=function(e){return new(e||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};export{b as a};
