import{a as n,b as o,ea as s,fa as f,g as r,m as u,p as c,x as d}from "./chunk-JEG2QJQU.js";var _=class p{totalPages=d(100);http=c(f);apiUrl="https://api.artic.edu/api/v1/artworks";getArtworks(a=1, i=3){let t=new s().set("fields","id,title,artist_title,image_id,is_on_view").set("page",a.toString()).set("limit",i.toString());return this.http.get(this.apiUrl,{params:t}).pipe(r(l=>l.data.map(e=>o(n({},e),{image_url:`${l.config.iiif_url}/${e.image_id}/full/843,/0/default.jpg`}))))}getArtworkById(a){let i=new s().set("fields","id,title,date_display,image_id,is_on_view,dimensions,credit_line,department_title,artist_title");return this.http.get(`${this.apiUrl}/${a}`,{params:i}).pipe(r(t=>o(n({},t.data),{image_url:`${t.config.iiif_url}/${t.data.image_id}/full/843,/0/default.jpg`})))}getTotalPages(){let a=new s().set("limit","0");return this.http.get(this.apiUrl,{params:a}).pipe(r(i=>{let t=+i.pagination.total_pages;return this.totalPages.set(t),t}))}searchArtworks(a, i=1, t=3){let l=new s().set("fields","id,title,artist_title,image_id,is_on_view").set("q",a).set("page",i.toString()).set("limit",t.toString());return this.http.get(`${this.apiUrl}/search`,{params:l}).pipe(r(e=>{let b=e.data.map(m=>o(n({},m),{image_url:`${e.config.iiif_url}/${m.image_id}/full/843,/0/default.jpg`})),g=+e.pagination.total_pages;return this.totalPages.set(g),{artworks:b,total_page:g}}))}static \u0275fac=function(i){return new(i||p)};static \u0275prov=u({token:p,factory:p.\u0275fac,providedIn:"root"})};export{_ as a};
