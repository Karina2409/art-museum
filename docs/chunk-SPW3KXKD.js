import{a as O,b as E,c as L}from "./chunk-6M2IKSQA.js";import{$ as t,A as c,C as g,D as v,Da as A,J as _,K as I,L as i,O as C,S as u,U as w,V as d,_ as o,aa as x,ba as P,ca as h,da as p,ea as k,fa as n,ga as m,ha as f,la as y,ma as M,sa as b,ya as S}from "./chunk-HBEHPOXJ.js";function T(l, a){l&1&&(o(0,"div",2),x(1,"app-loader"),t())}function V(l, a){l&1&&x(0,"app-loader")}function D(l, a){if(l&1){let e=P();o(0,"div",3)(1,"section",4)(2,"div",5)(3,"div",6)(4,"img",7),h("load",function(){g(e);let s=p();return v(s.onImageLoad())})("error",function(){g(e);let s=p();return v(s.onImageError())}),t(),o(5,"div",8),h("click",function(s){g(e);let j=p();return v(j.toggleFavorite(s))}),x(6,"img",9),t()(),u(7,V,1,0,"app-loader",10),t(),o(8,"div",11)(9,"div",12)(10,"h1",13),n(11),t(),o(12,"div",14)(13,"h2",15),n(14),t(),o(15,"p",16),n(16),t()()(),o(17,"div",17)(18,"h2",13),n(19,"Overview"),t(),o(20,"div",18)(21,"div",19)(22,"span"),n(23,"Artist nacionality:"),t(),n(24),t(),o(25,"div",19)(26,"span"),n(27,"Dimensions: Sheet:"),t(),n(28),t(),o(29,"div",19)(30,"span"),n(31,"Credit Line:"),t(),n(32),t(),o(33,"div",19)(34,"span"),n(35,"Repository:"),t(),n(36),t(),o(37,"div",19),n(38),t()()()()()()}if(l&2){let e=a.ngIf,r=p();d("hidden",r.isLoadingInfo()),i(3),d("hidden",r.isLoadingImage()),i(),d("default",r.isDefaultImage),k("src",e.image_url,I),k("alt",e.title),i(),d("favourite-active",r.isFavorite()),i(2),w("ngIf",r.isLoadingImage()),i(4),m(e.title?e.title:"Unknown title"),i(3),m(e.artist_title?e.artist_title:"Unknown artist"),i(2),m(e.date_display?e.date_display:"Unknown date"),i(8),f(" ",e.artist_nationality," "),i(4),f(" ",e.dimensions," "),i(4),f(" ",e.credit_line," "),i(4),f(" ",e.department_title," "),i(2),m(e.is_on_view?"Public":"Private")}}var F=class l{artwork=null;isLoadingImage=_(!0);isLoadingInfo=_(!0);isFavorite=_(!1);artworkId=y(()=>Number(this.activateRoute.snapshot.paramMap.get("artworkId")));artworksService=c(L);activateRoute=c(S);favoritesService=c(E);notification=c(A);constructor(){M(()=>{let a=this.artworkId();a&&this.artworksService.getArtworkById(a).subscribe({next: e=>{this.artwork=e,this.isFavorite.set(this.favoritesService.isFavorite(e.id)),this.isLoadingInfo.set(!1)}})})}get isDefaultImage(){return this.artwork?.image_url.includes("default-image.png")??!0}toggleFavorite(a){a.stopPropagation(),this.artwork!==null&&(this.favoritesService.toggleFavorite(this.artwork.id),this.isFavorite.set(this.favoritesService.isFavorite(this.artwork.id)))}onImageLoad(){this.isLoadingImage.set(!1)}onImageError(){this.artwork&&(this.artwork.image_url="default-image.png",this.isLoadingImage.set(!1),this.notification.show("\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F","warning"))}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=C({type:l,selectors:[["app-artwork-info-page"]],decls:2,vars:2,consts:[["class","d-flex justify-content-center align-items-center","style","min-height: 75vh",4,"ngIf"],["class","wrapper",3,"hidden",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center",2,"min-height","75vh"],[1,"wrapper"],[1,"artwork-info-container"],[1,"image-container"],[1,"artwork-info-container__image"],[1,"artwork-image",3,"load","error","src","alt"],[1,"favourite-icon",3,"click"],["src","bookmark.svg","alt","bookmark",1,"bookmark"],[4,"ngIf"],[1,"artwork-info"],[1,"image-info"],[1,"heading"],[1,"author-info"],[1,"author-name"],[1,"dates"],[1,"overview-container"],[1,"overview-info"],[1,"overview-info__line"]],template:function(e, r){e&1&&u(0,T,2,0,"div",0)(1,D,39,19,"div",1),e&2&&(w("ngIf",r.isLoadingInfo()),i(),w("ngIf",r.artwork))},dependencies:[b,O],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:1280px;margin:0 auto;padding:120px 0}.artwork-info-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:80px;width:100%}@media (max-width: 767px){.artwork-info-container[_ngcontent-%COMP%]{flex-direction:column}}.image-container[_ngcontent-%COMP%]{overflow:hidden;display:flex;align-items:center;justify-content:center;height:570px;width:497px;min-width:400px}@media (max-width: 767px){.image-container[_ngcontent-%COMP%]{width:100%;min-width:300px}}.artwork-info-container__image[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.favourite-icon[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px}.favourite-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.artwork-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center}.artwork-image.default[_ngcontent-%COMP%]{padding:10px 30px;object-fit:contain;border:solid 3px #4a2900;border-radius:15px}.artwork-info[_ngcontent-%COMP%]{min-height:570px;display:flex;flex-direction:column;justify-content:space-between}.image-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}.heading[_ngcontent-%COMP%]{font-family:var(--second-family);font-weight:400;font-size:32px;color:#393939}.author-info[_ngcontent-%COMP%], .overview-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.author-name[_ngcontent-%COMP%]{font-family:var(--second-family);font-weight:400;font-size:24px;color:#e0a449}.dates[_ngcontent-%COMP%]{font-family:var(--second-family);font-weight:700;font-size:16px;color:#393939}.overview-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px}.overview-info__line[_ngcontent-%COMP%]{font-family:var(--second-family);font-weight:400;font-size:16px;color:#393939;text-wrap:wrap}.overview-info__line[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e0a449}.hidden[_ngcontent-%COMP%]{display:none}"]})};export{F as ArtworkInfoPageComponent};
