import{$ as k,A as m,B as d,H as v,I as h,J as a,M as P,Q as S,T as g,U as y,Y as n,Z as l,_ as u,aa as f,ba as c,ca as b,da as s,ea as p,ka as F,v as C,va as O,y as w}from "./chunk-I6TDCWYR.js";var x=class o{storageKey="favoriteArtworks";favorites=v(this.getAllFavorites());constructor(){}getAllFavorites(){return JSON.parse(localStorage.getItem(this.storageKey)||"[]")}toggleFavorite(i){if(this.isFavorite(i)){this.removeFromStorage(i);return}this.addToStorage(i)}isFavorite(i){return this.getAllFavorites().includes(i)}getFavorites(){return this.favorites}addToStorage(i){let t=[...this.favorites(),i];localStorage.setItem(this.storageKey,JSON.stringify(t)),this.favorites.set(t)}removeFromStorage(i){let t=this.favorites().filter(r=>r!==i);localStorage.setItem(this.storageKey,JSON.stringify(t)),this.favorites.set(t)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=C({token:o,factory:o.\u0275fac,providedIn:"root"})};function V(o, i){if(o&1){let t=k();n(0,"div",0)(1,"div",2),f("click",function(){m(t);let e=c();return d(e.navigateToArtworkInfo(e.artwork.id))}),u(2,"img",3),l(),n(3,"div",4),f("click",function(){m(t);let e=c();return d(e.navigateToArtworkInfo(e.artwork.id))}),n(4,"div",5)(5,"div",6)(6,"p",7),s(7),l(),n(8,"p",8),s(9),l()(),n(10,"p",9),s(11),l()(),n(12,"div",10),f("click",function(e){m(t);let _=c();return d(_.toggleFavorite(e))}),u(13,"img",11),l()()()}if(o&2){let t,r,e=c();a(2),g("default",e.isDefaultImage),b("src",e.artwork.image_url,h),a(5),p((t=e.artwork.title)!==null&&t!==void 0?t:"Unknown"),a(2),p((r=e.artwork.artist_title)!==null&&r!==void 0?r:"Unknown"),a(2),p(e.artwork.is_on_view?"Public":"Private"),a(),g("favourite-active",e.isFavorite())}}function T(o, i){if(o&1){let t=k();n(0,"div",12),f("click",function(){m(t);let e=c();return d(e.navigateToArtworkInfo(e.artwork.id))}),n(1,"div",13),u(2,"img",3),l(),n(3,"div",5)(4,"div",6)(5,"p",7),s(6),l(),n(7,"p",8),s(8),l()(),n(9,"p",9),s(10),l()(),n(11,"div",10),f("click",function(e){m(t);let _=c();return d(_.toggleFavorite(e))}),u(12,"img",11),l()()}if(o&2){let t=c();a(2),g("image-small-default",t.isDefaultImage),b("src",t.artwork.image_url,h),a(4),p(t.artwork.title||"Unknown"),a(2),p(t.artwork.artist_title||"Unknown"),a(2),p(t.artwork.is_on_view?"Public":"Private"),a(),g("favourite-active",t.isFavorite())}}var M=class o{artwork;isSmallVersion;isFavorite=v(!1);router=w(O);favoritesService=w(x);constructor(){F(()=>{this.artwork&&this.isFavorite.set(this.favoritesService.isFavorite(this.artwork.id))})}get isDefaultImage(){return this.artwork?.image_url.includes("default-image.png")??!0}toggleFavorite(i){i.stopPropagation(),this.favoritesService.toggleFavorite(this.artwork.id),this.isFavorite.set(this.favoritesService.isFavorite(this.artwork.id))}navigateToArtworkInfo(i){this.router.navigate([`/artwork/${i}`])}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=P({type:o,selectors:[["app-picture"]],inputs:{artwork:"artwork",isSmallVersion:"isSmallVersion"},decls:2,vars:1,consts:[[1,"picture"],[1,"picture-small"],[1,"image-container",3,"click"],["alt","img",1,"image",3,"src"],[1,"picture-info-container",3,"click"],[1,"picture-info"],[1,"artist-info"],[1,"picture-title"],[1,"artist-name"],[1,"is-public-domain"],[1,"favourite-icon",3,"click"],["src","bookmark.svg","alt","bookmark",1,"bookmark"],[1,"picture-small",3,"click"],[1,"small-image-container"]],template:function(t, r){t&1&&S(0,V,14,8,"div",0)(1,T,13,8,"div",1),t&2&&y(r.isSmallVersion?1:0)},styles:[".picture[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.image-container[_ngcontent-%COMP%]{overflow:hidden;display:flex;align-items:center;justify-content:center;min-width:390px;max-width:390px;height:444px}@media (max-width: 450px){.image-container[_ngcontent-%COMP%]{min-width:370px;max-width:370px}}.image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;object-position:center}.image.default[_ngcontent-%COMP%]{padding:10px 30px;object-fit:contain;border:solid 3px #4a2900;border-radius:15px}.picture-info-container[_ngcontent-%COMP%]{position:absolute;bottom:-70px;left:25px;display:flex;align-items:center;justify-content:space-between;width:335px;padding:32px 24px;border:1px solid #f0f1f1;background-color:#fff}@media (max-width: 450px){.picture-info-container[_ngcontent-%COMP%]{left:20px;min-width:325px;max-width:325px}}.picture-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:8px;min-width:0}.artist-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1px;width:100%}.picture-title[_ngcontent-%COMP%]{overflow:hidden;font-family:var(--second-family);font-size:17px;font-weight:500;line-height:150%;color:#393939;text-overflow:ellipsis;letter-spacing:-.03em;white-space:nowrap;display:block;max-width:100%}.artist-name[_ngcontent-%COMP%]{overflow:hidden;font-family:var(--second-family);font-size:15px;font-weight:400;line-height:171%;color:#e0a449;text-overflow:ellipsis;letter-spacing:-.01em;white-space:nowrap;display:block;max-width:100%}.is-public-domain[_ngcontent-%COMP%]{font-family:var(--second-family);font-size:15px;font-weight:700;line-height:171%;color:#393939;letter-spacing:-.01em}.favourite-icon[_ngcontent-%COMP%]{width:59px;height:59px;padding:17px;border-radius:35px;flex-shrink:0;background:#f9f9f9}.favourite-icon[_ngcontent-%COMP%]   .bookmark[_ngcontent-%COMP%]{width:24px;height:24px}.favourite-icon.favourite-active[_ngcontent-%COMP%]{background:#fbd7b24d}.picture-small[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;gap:16px;align-items:center;width:100%;height:auto;padding:16px;border:1px solid #f0f1f1;background-color:#fff;transition:transform .3s ease}.picture-small[_ngcontent-%COMP%]:hover{transform:scale(1.03)}.image-small-default[_ngcontent-%COMP%]{padding:5px}.small-image-container[_ngcontent-%COMP%]{overflow:hidden;display:flex;align-items:center;justify-content:center;width:80px;height:80px;flex-shrink:0}.small-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}"]})};export{x as a,M as b};
